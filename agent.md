# 通用 OR 分解对比 

- 目的：将任意“集成优化模型”拆成少量子问题，按标准流水线求解并对比，确保公平与可复现。

- 原则：模块化；接口优先；公平对比；可复现。

- 拆分维度（通用）：
  - 决策域：A/B/C（如选址/分配/排程等，仅作示例）。
  - 时间粒度：粗→细、滚动/分段。
  - 空间层次：区域/层级/骨干-接驳。
  - 资源类别：车辆/设备/人力/库存等分立管理。
  - 约束性质：硬/软/耦合（主问题或惩罚项处理）。
  - 方法学：Benders / Lagrangian / 列生成 / Relax-and-Repair。

- 流水线模板：
  - 集成基线：整体一次求解（对比基准）。
  - 顺序 A→B / B→A：先放松后固定，两阶段。
  - 迭代修复：Fix-and-Optimize / Relax-and-Repair。
  - 主从分解：主问题管耦合，子问题供列/割/次梯度。

- 接口契约（抽象）：
  - 输入：网络/需求/资源/参数（统一数据结构）。
  - 输出：决策集（流量/时序/分配/绑定…）与关键耦合量。
  - 交换（JSON/CSV 最小字段）：
    - `instance, pipeline, stage`
    - `solver: {name,status,termination,wall,cpu,gap}`
    - `objective: {total, components?: {...}}`
    - `metrics?: {...}`（可扩展）
    - `coupling?: {...}`（传递/固定给下游）

- 指标与公平：
  - 指标：目标（及分项）、运行时间、可行率/修复次数。
  - 公平：同实例、同 TimeLimit/MIPGap/Threads、同随机种子、同成本口径。

- 执行步骤（最短路径）：
  1) 盘点模型与耦合点
  2) 选 1–3 条流水线
  3) 定义数据/解契约与放松/固定规则
  4) 实施开关（activate/deactivate/fix），分阶段求解并校验
  5) 输出 `summary.json` 并汇总对比

- 最小交付：
  - ≥1 集成基线 + ≥1 拆分流水线；变量/约束开关；`summary.json`；可选聚合脚本。

